import React, { useState } from "react";
import Question from "./Question";
import Result from "./Result";

import "../styles/next-btn.css"

// umbrella images
import umbRed from '../images/umbrellas/umbRed.png';
import umbBlue from '../images/umbrellas/umbBlue.png';
import umbGreen from '../images/umbrellas/umbGreen.png';
import umbYellow from '../images/umbrellas/umbYellow.png';
import umbOrange from '../images/umbrellas/umbOrange.png';
import umbPurple from '../images/umbrellas/umbPurple.png';
import umbBlack from '../images/umbrellas/umbBlack.png';
import umbGrey from '../images/umbrellas/umbGrey.png';
import umbWhite from '../images/umbrellas/umbWhite.png';
import umbPink from '../images/umbrellas/umbPink.png';


// character images
import charRed from '../images/characters/charRed.png';
import charBlue from '../images/characters/charBlue.png';
import charGreen from '../images/characters/charGreen.png';
import charYellow from '../images/characters/charYellow.png';
import charOrange from '../images/characters/charOrange.png';
import charPurple from '../images/characters/charPurple.png';
import charBlack from '../images/characters/charBlack.png';
import charGrey from '../images/characters/charGrey.png';
import charWhite from '../images/characters/charWhite.png';
import charPink from '../images/characters/charPink.png';


const questions = [
  {
    question: "(1/10) คุณตื่นขึ้นมาในห้องพักเล็ก ๆ หยดฝนกระทบหน้าต่างพร้อมกลิ่นฝนโชยเข้ามาเบา ๆ จากหน้าต่าง คุณเลือกทำอะไรเป็นอย่างแรก",
    options: [
      { text: "หยิบหนังสือที่อ่านค้างไว้", drink: "ร่มสีน้ำเงิน" },
      { text: "ลุกมาออกกำลังกายเบา ๆ", drink: "ร่มสีเหลือง" },
      { text: "เช็กอีเมลงาน", drink: "ร่มสีดำ" },
      { text: "เปิดเพลงรักที่คิดถึง", drink: "ร่มสีเทา" },
      { text: "โทรหาคนในครอบครัว", drink: "ร่มสีเขียว" }
    ]
  },
  {
    question: "(2/10) คุณเดินออกจากห้องและเห็นคนแปลกหน้าที่ไม่คุ้นเคยยืนหลบฝนอยู่คนเดียว คุณ…",
    options: [
      { text: "ชวนเข้ามาในร่มโดยไม่พูดอะไร", drink: "ร่มสีขาว" },
      { text: "หาของที่กันฝนได้อีกอันแบ่งให้ทันที", drink: "ร่มสีชมพู" },
      { text: "ยกร่มให้แบบรีบ ๆ เพราะมีนัด", drink: "ร่มสีแดง" },
      { text: "ยื่นวิตามินให้เขาแล้วแบมือบอกว่า “ยี่สิบ”", drink: "ร่มสีส้ม" },
      { text: "มองผ่านไปและคิดถึงอดีต", drink: "ร่มสีม่วง" }
    ]
  },
  {
    question: "(3/10) คุณเดินผ่านร้านขายของเก่า ร้านของเก่านั้นดึงความทรงจำของคุณไว้ ของสิ่งไหนสะกิดใจคุณที่สุด",
    options: [
      { text: "กล่องเพลงที่เล่นทำนองเศร้า", drink: "ร่มสีชมพู" },
      { text: "โถยาสมุนไพร", drink: "ร่มสีเขียว" },
      { text: "นาฬิกาพกเก่า", drink: "ร่มสีส้ม" },
      { text: "โปสการ์ดจากต่างประเทศ", drink: "ร่มสีเทา" },
      { text: "หนังสือกลอนเก่า", drink: "ร่มสีน้ำเงิน" }
    ]
  },
  {
    question: "(4/10) คุณแวะร้านกาแฟ และมีเพลงหนึ่งดังขึ้นมา เพลงหนึ่งทำให้คุณ…",
    options: [
      { text: "น้ำตาคลอโดยไม่รู้ตัว", drink: "ร่มสีชมพู" },
      { text: "อยากออกมาเต้น", drink: "ร่มสีแดง" },
      { text: "คิดไอเดียงานออก", drink: "ร่มสีส้ม" },
      { text: "ร้องคลอตามแบบไม่ได้รู้สึกอะไร", drink: "ร่มสีขาว" },
      { text: "แค่นั่งนิ่ง ๆ แล้วจ้องฝนที่หน้าต่าง", drink: "ร่มสีม่วง" },
    ]
  },
  {
    question: "(5/10) คุณได้พบกับเพื่อนเก่าโดยบังเอิญ เขายิ้มให้และถามว่า “ช่วงนี้เป็นยังไงบ้าง?” คุณตอบ…",
    options: [
      { text: "“เรียนรู้อะไรใหม่ ๆ เยอะเลยช่วงนี้”", drink: "ร่มสีน้ำเงิน" },
      { text: "“งานเยอะเหมือนเดิมแหละ”", drink: "ร่มสีดำ" },
      { text: "“ดีนะ แต่คิดถึงบรรยากาศเก่า ๆ”", drink: "ร่มสีเทา" },
      { text: "“สบายดีนะ คิดถึงเหมือนกัน”", drink: "ร่มสีชมพู" },
      { text: "“กำลังเริ่มดูแลสุขภาพอยู่เลย”", drink: "ร่มสีเหลือง" }
    ]
  },
  {
    question: "(6/10) คุณได้รับจดหมายหนึ่งฉบับ ไม่มีชื่อผู้ส่ง ข้างในคือคำว่า ‘คิดถึง’ คุณคิดว่าใครส่งมา",
    options: [
      { text: "คนคุยเก่า", drink: "ร่มสีชมพู" },
      { text: "ตัวคุณเองในอีกโลกนึง", drink: "ร่มสีขาว" },
      { text: "คนในครอบครัว", drink: "ร่มสีเขียว" },
      { text: "คู่แข่งเก่าที่คุณเคยชื่นชม", drink: "ร่มสีแดง" },
      { text: "คนที่เคยช่วยเหลือคุณในยามลำบาก", drink: "ร่มสีส้ม" }
    ]
  },
  {
    question: "(7/10) ฝนเริ่มตกหนักขึ้น แต่ร่มของคุณพัง ตอนนี้อยู่ในจุดที่ไม่มีที่หลบฝน คุณเลือกที่จะทำอย่างไร",
    options: [
      { text: "เล่นน้ำฝน", drink: "ร่มสีม่วง" },
      { text: "มองหาคนอื่นเพื่อยืมร่ม", drink: "ร่มสีแดง" },
      { text: "วิ่งไปหาที่พักแบบไม่ลังเล", drink: "ร่มสีเหลือง" },
      { text: "อัพทวิตด่าสภาพอากาศ", drink: "ร่มสีน้ำเงิน" },
      { text: "โทรหาเพื่อนให้มารับ", drink: "ร่มสีเขียว" }
    ]
  },
  {
    question: "(8/10) คุณได้เจอที่พักพิงชั่วคราวแล้วเผลอฟุบหลับไป ในฝันคุณเห็นภาพตัวเองในอนาคตอีก 10 ปี คุณกำลัง…",
    options: [
      { text: "ใช้ชีวิตเรียบง่ายในบ้านกลางสวน", drink: "ร่มสีขาว" },
      { text: "ยืนพูดบนเวทีใหญ่ต่อหน้าผู้คน", drink: "ร่มสีแดง" },
      { text: "ประสบความสำเร็จในสายงาน", drink: "ร่มสีดำ" },
      { text: "วิ่งเล่นกับครอบครัวในสนามหญ้า", drink: "ร่มสีเขียว" },
      { text: "เปิดคาเฟ่เล็ก ๆ", drink: "ร่มสีส้ม" }
    ]
  },
  {
    question: "(9/10) มีเสียงกระซิบจากใครบางคนพูดว่า “ฉันยังรออยู่นะ” เสียงนั้นทำให้คุณรู้สึก…",
    options: [
      { text: "คิดถึงแฟนเก่า", drink: "ร่มสีเทา" },
      { text: "อยากรู้ว่าใครกันแน่ที่พูด", drink: "ร่มสีน้ำเงิน" },
      { text: "เหมือนเสียงนั้นเป็นของคุณเอง", drink: "ร่มสีขาว" },
      { text: "เหมือนต้องกลับไปทำอะไรบางอย่างให้เสร็จ", drink: "ร่มสีดำ" },
      { text: "อุ่นใจอย่างประหลาด", drink: "ร่มสีเหลือง" }
    ]
  },
  {
    question: "(10/10) เมื่อถึงสุดทางเดิน คุณเห็นร่มหลายคันวางอยู่ตรงหน้า คุณจะเลือกคันที่…",
    options: [
      { text: "สีที่ให้พลังงานสดใสที่สุด", drink: "ร่มสีเหลือง" },
      { text: "สีที่ทำให้นึกถึงคนที่รัก", drink: "ร่มสีชมพู" },
      { text: "สีที่ทำให้รู้สึกมั่นคง", drink: "ร่มสีดำ" },
      { text: "สีที่ไม่คุ้นตา แต่รู้สึกดึงดูด", drink: "ร่มสีม่วง" },
      { text: "สีที่เคยใช้ตอนเด็ก ๆ", drink: "ร่มสีเขียว" }
    ]
  },
];

const drinks = {
  "ร่มสีแดง": { 
    image: umbRed, 
    compatible: "ร่มสีขาว", 
    compatible_description: "คู่ของคุณเป็นคนที่มีจิตใจอ่อนโยน ไม่ชอบความวุ่นวาย เขาเป็นเหมือนพื้นที่ปลอดภัย ที่คุณจะรู้สึกได้ถึงความรัก…แม้เขาจะไม่ได้พูดมันออกมาตรง ๆ ความมั่นคงทั้งกายและจิตใจของอีกฝ่าย เป็นสเน่ห์ที่ดึงดูดคุณ",
    compatible_description2: "เหมือน Kuriimu Ch. ที่ไม่ต้องพยายามเป็นอะไรเลย แค่ยิ้มเงียบ ๆ โลกก็ละมุนขึ้นทันตา",
    title: "ร่มสีแดง — แสงวาวท่ามกลางฝน",
    description: "คุณคือคนที่ไม่ยอมให้ตัวเองจางหายไปแม้ในวันที่ฝนตกหนัก ในโลกที่คลุมเครือ คุณคือประกายชัดเจนที่คนมองหา คุณมีแรงผลักดันจากความฝัน ความสำเร็จ และชื่อเสียง ไม่ใช่เพราะต้องการให้ใครชื่นชม แต่เพราะคุณอยากพิสูจน์ว่า “ฉันทำได้”",
    advantage: "แต่ในความเข้มแข็งนั้น ยังมีความรู้สึกบางอย่างที่คุณเก็บไว้กับตัวเองเสมอ บางที…ก็แค่รอใครสักคนจะมองเห็นเวลาที่คุณเปียกปอนเหมือนคนอื่น",
    disadvantage: "“วันนี้ไม่ต้องพิสูจน์อะไรแล้วก็ได้ คนที่รักเธอ...เขาเห็นความพยายามของเธอตั้งแต่ยังไม่เริ่มต้นด้วยซ้ำ” เธอไม่ต้องเปล่งแสงตลอดเวลา บางวันแค่ยังยืนอยู่ก็เก่งมากแล้ว",
    character: charWhite
  },
  "ร่มสีน้ำเงิน": { 
    image: umbBlue, 
    compatible: "ร่มสีแดง", 
    compatible_description: "คู่ของคุณเป็นคนที่มีพลังในตัวเองสูงและพร้อมจะลุกขึ้นสู้กับทุกอย่าง คนที่จะลุกไปไฟท์ให้คุณหากร้านอาหารเสิร์ฟออเดอร์ผิด เขาอาจไม่ได้พูดว่ารักทุกวัน แต่คุณจะรู้ว่าเขาพร้อมพาคุณไปให้ไกลเสมอถ้าคู่ของคุณเป็นร่มสีแดง คุณชอบคนที่โดดเด่น เปล่งประกาย ไม่ว่าเขาจะอยู่ตรงไหน คุณอยากเป็นส่วนช่วยในการสนับสนุนให้เขาเติบโต",
    compatible_description2: "เหมือนกลุ่มเมี้ยวจิ้ดก้าบตุ่ย ที่รวมตัวกันด้วยความกล้าแตกต่าง แต่กลับเปล่งแสงออกมาได้ชัดเจนในแบบของตัวเอง",
    title: "ร่มสีน้ำเงิน — เงียบสงบกลางพายุ",
    description: "คุณคือคนที่ไม่ชอบการวุ่นวาย คุณชอบเข้าใจมากกว่าตัดสิน ฟังมากกว่าพูด และมักจะเดินออกจากความขัดแย้งอย่างเงียบ ๆ ในวันที่ฝนตก คุณอาจนั่งจิบชา อ่านหนังสือ หรือคิดถึงคำพูดใครบางคน",
    advantage: "เพราะคุณเป็นแบบนั้น ใจเย็น ลึกซึ้ง และมีโลกส่วนตัว ใครที่เข้ามาใกล้คุณ จะรู้ว่าภายใต้ความเงียบนี้ มีคลื่นของความคิดถึงซ่อนอยู่เต็มหัวใจ",
    disadvantage: "“ความเงียบของเธอมีพลัง อย่าลืมว่ามันเป็นจุดแข็ง ไม่ใช่ข้อด้อย” วันนี้.. ลองพูดออกมาสักหนึ่งอย่างที่อยู่ในใจ ไม่ใช่เพื่อคนอื่น แต่เพื่อให้ใจของเธอเบาขึ้นสักนิด",
    character: charRed
  },
  "ร่มสีเขียว": { 
    image: umbGreen, 
    compatible: "ร่มสีม่วง", 
    compatible_description: "คู่ของคุณเป็นคนที่มีโลกเฉพาะตัวและความฝันที่ไม่เหมือนใคร เขาอาจไม่ชัดเจนในทุกเรื่อง แต่เขาชัดเจนกับคุณเสมอ ว่าคุณคือคนที่เขาเลือกจะพาเข้าโลกของเขา คุณชอบที่จะเป็นคนสำคัญไม่กี่คนในชีวิตอีกฝ่าย",
    compatible_description2: "ถ้าคุณคู่กับร่มสีนี้ บางทีคุณอาจชอบที่ Enri Ch. เป็นเป็ดที่ “ไม่เก่งที่สุดในอะไรเลย” แต่ยังเลือกบินต่ออย่างเท่ ๆ อยู่ดี",
    title: "ร่มสีเขียว — ฝนที่ตกในบ้านของเรา",
    description: "คุณมีหัวใจที่อบอุ่นและเต็มไปด้วยความห่วงใย คุณคือคนที่เชื่อในบ้าน ความสัมพันธ์ และพื้นที่ปลอดภัย สำหรับคุณ ฝนตกไม่ใช่เรื่องน่าเศร้า มันคือโอกาสจะห่มผ้าด้วยกัน พูดคุยเรื่องเมื่อวาน และหัวเราะในเรื่องเล็ก ๆ",
    advantage: "คุณอาจคิดถึงใครบางคนเสมอ แม้ไม่ได้เจอหน้าเขาอีก แต่คุณก็ยังเก็บที่ว่างไว้ให้เขาในบ้านของความทรงจำอยู่ดี",
    disadvantage: "“ทุกคนอบอุ่นเวลาอยู่กับเธอ แล้วเธอล่ะ…อบอุ่นกับตัวเองบ้างหรือยัง?” เธอเป็นบ้านที่ดี แต่บ้านก็ต้องมีไฟเปิดไว้ให้ตัวเองด้วยนะ",
    character: charPurple 
  },
  "ร่มสีเหลือง": { 
    image: umbYellow, 
    compatible: "ร่มสีดำ", 
    compatible_description: "คู่ของคุณเป็นคนที่มีเป้าหมาย รู้ว่าอยากทำอะไร พูดน้อย ทำเยอะ และดูเข้มแข็งในสายตาคนอื่น แต่คุณจะเห็นมุมอ่อนโยนที่เขาไม่เปิดให้ใครง่าย ๆ ยกเว้นกับคุณ หากคู่ของคุณคือร่มสีดำ คุณน่าจะเข้าใจดีว่า บางครั้งคนเราไม่ได้เย็นชา…แค่เราโฟกัสอยู่กับสิ่งที่สำคัญ",
    compatible_description2: "เหมือน Sua Ch. ที่จริงจังกับทุกอย่าง แต่ก็ยังมีมุกแอบอบอุ่นให้เห็นในไลฟ์เสมอ",
    title: "ร่มสีเหลือง — แสงแดดที่หลบอยู่หลังเมฆ",
    description: "คุณเป็นเหมือนแสงที่ลอดผ่านก้อนเมฆ แม้วันฝนตกจะชื้นเฉาแค่ไหน คุณก็ยังหาวิธีหัวเราะออกมาได้ คุณมีมุมเด็ก ๆ อยู่เสมอ ซุกซน อยากรู้อยากเห็น และไม่กลัวที่จะยิ้มก่อน",
    advantage: "แต่ในบางวัน…รอยยิ้มของคุณก็ซ่อนไว้ความเหงาเล็ก ๆ บางทีคุณก็แค่หวังว่ารอยยิ้มนั้นจะทำให้ใครบางคนหายเศร้าไปได้บ้าง",
    disadvantage: "“เธอเป็นพลังบวกของหลาย ๆ คน แต่ไม่เป็นไรเลยถ้าวันนี้เธอไม่ยิ้มเท่าเดิม” โลกไม่ได้มืดลง แค่มีเมฆผ่านมาชั่วคราวเท่านั้นเอง",
    character: charBlack 
  },
  "ร่มสีส้ม": { 
    image: umbOrange, 
    compatible: "ร่มสีน้ำเงิน", 
    compatible_description: "คู่ของคุณเป็นคนที่เงียบ มีความคิดที่ละเอียด เป็นนักวางแผน นี่คือสิ่งที่ร่มสีน้ำเงินถนัด นั่นจะทำให้คุณใจเย็น ช่างสังเกต ใช้ข้อดีของอีกฝ่ายมาทำให้คุณเติบโตขึ้น เขาอยู่เพื่อฟัง ไม่ใช่เพื่อสั่ง และคุณจะสบายใจทุกครั้งที่อยู่กับเขา",
    compatible_description2: "ถ้าคุณชอบคนใจเย็นแบบนี้…คุณอาจจะเผลอยิ้มเวลาเห็นพี่เสือ Sua Ch. ทำงานอย่างจริงจังในไลฟ์ก็เป็นได้",
    title: "ร่มสีส้ม — ยาดีในวันฝนตก",
    description: "คุณคือคนที่ไม่อยู่นิ่งกับความเศร้า คุณหาทางแก้ หาทางเข้าใจ และพยายามเยียวยาทั้งตัวเองและคนรอบข้าง ไม่ใช่เพราะคุณไม่รู้จักความเศร้า แต่เพราะคุณเชื่อว่า… “ฝนจะไม่ตกตลอดไป”",
    advantage: "คุณอาจดูแข็งแรงในสายตาคนอื่น แต่ก็มีบางช่วงเวลาที่คุณเองก็อยากมีใครสักคนคอยประคอง ใครคนนั้น…ที่เข้าใจโดยไม่ต้องอธิบาย",
    disadvantage: "“เธอเก่งที่รักษาหัวใจคนอื่น แต่บางวันก็อย่าลืมรักษาหัวใจตัวเองด้วยนะ” แค่ยอมรับว่าวันนี้เหนื่อย ก็เป็นจุดเริ่มต้นของการหายดีแล้ว",
    character: charBlue 
  },
  "ร่มสีม่วง": { 
    image: umbPurple, 
    compatible: "ร่มสีส้ม", 
    compatible_description: "คู่ของคุณเป็นคนที่นิสัยช่างคิด ช่างเข้าใจ และหาทางเยียวยาทุกอย่าง เขาอาจไม่พูดคำหวานเก่ง แต่คุณจะรู้สึกดีขึ้นทุกครั้งที่ได้อยู่ใกล้ คนที่คอยสร้างบรรยากากาศให้คนรอบข้างอยู่เสมอ",
    compatible_description2: "ไม่แปลกเลยถ้าคุณจะติดคลิปที่ Enri Ch. ทำเสียงพี่สาวปลอบใจ หรือหยิบวลีตลก ๆ มาล้อเล่นคลายเครียดให้กันทุกวัน",
    title: "ร่มสีม่วง — ความฝันที่ยังเปียกปอน",
    description: "คุณเป็นคนมีฝัน มีเป้าหมาย และมีวิธีคิดที่ต่างออกไป คุณอาจดูไม่เหมือนใครในกลุ่ม ลึกซึ้ง เก็บตัว หรือมีสไตล์เฉพาะตัว คุณเลือกใช้ฝนเป็นข้ออ้างเพื่อหลบหนีจากโลกบ้างเป็นบางวัน",
    advantage: "บางครั้ง…คุณก็คิดถึงเวอร์ชันของตัวเองที่ยังไม่เคยได้เป็น แต่เชื่อเถอะว่า ความฝันของคุณยังรอวันที่ฟ้าเปิด และคุณจะเดินออกไปพร้อมร่มคันเดิมนี้",
    disadvantage: "“ความฝันของเธอไม่แปลก และไม่ไร้สาระ” วันนี้แค่ขยับเข้าไปอีกนิด แม้ยังไม่แน่ใจ ก็ถือว่าเธอกล้ากว่าคนส่วนใหญ่แล้ว",
    character: charOrange 
  },
  "ร่มสีดำ": { 
    image: umbBlack, 
    compatible: "ร่มสีชมพู", 
    compatible_description: "คู่ของคุณเป็นคนที่รักเป็น ห่วงเก่ง และคิดถึงก่อนเสมอ ไม่กลัวจะแสดงความรู้สึก และจะคอยกางร่มให้คุณ…แม้คุณจะบอกว่าไม่เป็นไรก็ตาม เหมือนร่มคันนี้จะรู้จักคำว่า “อยู่ข้างกัน” ได้ดีที่สุด",
    compatible_description2: "ถามถึงร่มสีชมพู บางทีคุณอาจชอบเวลาที่ Chermy Ch. ทำตัวเหมือนแฟนสาวที่นั่งฟังคุณบ่นไปเรื่อย ๆ แบบไม่ตัดบทเลยก็ได้",
    title: "ร่มสีดำ — ฝนกับภารกิจในใจ",
    description: "คุณคือคนที่มั่นคง เข้มแข็ง และมีเป้าหมายชัดเจน ในวันที่ฝนตก คุณยังคงลุกขึ้นจัดการทุกอย่างเหมือนเดิม  ไม่ใช่เพราะคุณไม่รู้สึก แต่เพราะคุณแยก “ความรู้สึก” กับ “สิ่งที่ต้องทำ” ออกจากกันได้ดี",
    advantage: "แต่คุณเองก็มีบางมุมที่อยากให้ใครสักคนบอกว่า “เหนื่อยก็พักได้นะ” และแค่อยู่ข้าง ๆ ตอนที่คุณไม่อยากเข้มแข็งก็พอ",
    disadvantage: "“ไม่ต้องทำให้ดีที่สุดทุกวันก็ได้นะ บางวัน...แค่ได้กินข้าวครบสามมื้อก็นับว่าเยี่ยมแล้ว” พักบ้างก็ได้ ภารกิจยังรออยู่ แต่ใจของเธอสำคัญกว่า",
    character: charPink 
  },
  "ร่มสีเทา": { 
    image: umbGrey, 
    compatible: "ร่มสีเขียว", 
    compatible_description: "คู่ของคุณเป็นคนที่มีนิสัยอ่อนโยน เสมอต้นเสมอปลาย และรักในความมั่นคง เขาเป็นที่พึ่งในวันที่เปียกปอน และเป็นบ้านในวันที่คุณอยากพักใจ ร่มสีเขียวคือคนที่เชื่อในสายสัมพันธ์ ความอบอุ่น และคำว่า “อยู่ด้วยกัน”",
    compatible_description2: "แบบเดียวกับกลุ่มเมี้ยวจิ้ดก้าบตุ่ย ที่แม้จะมี 4 คาแรกเตอร์ต่างกัน แต่พออยู่ด้วยกันเมื่อไหร่ ก็เหมือนบ้านที่เต็มไปด้วยเสียงหัวเราะ",
    title: "ร่มสีเทา — ความคิดถึงที่ไม่ส่งไปไหน",
    description: "คุณเป็นคนที่อ่อนไหว ละเอียดอ่อน และเชื่อมโยงกับอดีตมากกว่าที่คุณรู้ ฝนตกทีไร หัวใจก็พาเดินทาง กลับไปหาช่วงเวลาที่ดี กลับไปหาบางคนที่เคยใกล้ คุณอาจดูเป็นคนล่องลอย แต่ในความจริงคุณมีความรู้สึกชัดเจนกว่าหลายคน",
    advantage: "แค่ไม่ค่อยพูดถึงมันออกมา คุณเป็นเหมือนร่มคันเก่าที่พับเก็บไว้ ยังอยู่ตรงนั้นเสมอ สำหรับใครบางคนที่หันกลับมาเจอ",
    disadvantage: "“ถ้ายังคิดถึง ก็ไม่เป็นไรเลย ความรู้สึกไม่ใช่ของเสีย มันคือสิ่งที่ทำให้เธอยังเป็นเธอ” เก็บมันไว้ได้ แต่อย่าลืมเงยหน้ารับฝนที่กำลังตกในตอนนี้ด้วยนะ",
    character: charGreen 
  },
  "ร่มสีขาว": { 
    image: umbWhite, 
    compatible: "ร่มสีเหลือง", 
    compatible_description: "คู่ของคุณเป็นคนที่มองโลกในแง่ดี และเชื่อว่าทุกเรื่องจะผ่านไปได้ อยู่กับเขาแล้วคุณจะหัวเราะบ่อยขึ้น แม้จะมีฝนตกอยู่ข้างนอกก็ตาม เขาเป็นคนที่ทำให้รู้สึกว่าทุกอย่างจะดีขึ้นได้ ถ้าคุณหัวเราะง่าย และยังยิ้มได้ในวันที่ฝนตก",
    compatible_description2: "คุณอาจจะชอบพลังสดใสที่ Kuriimu Ch. พามาให้ในแต่ละวัน ความน่ารักแบบไม่ต้องพยายาม คือยาใจของคุณแน่ ๆ",
    title: "ร่มสีขาว — ความสงบในวันที่เปียก",
    description: "คุณคือคนที่รักความเรียบง่าย จริงใจ และมีพลังสงบที่แผ่ออกมา คุณไม่เร่ง ไม่แข่ง ไม่ต้องเด่น คุณเชื่อว่าทุกอย่างจะผ่านไปในจังหวะของมัน และคุณแค่อยู่ตรงนี้ แม้ในวันที่เปียกที่สุด คุณก็ยังหาความงามเล็ก ๆ เจอ",
    advantage: "บางครั้งความคิดถึงของคุณไม่ใช่การโหยหา แต่เป็นการ “ยอมรับ” ว่าใครบางคนเคยเป็นส่วนหนึ่งของหัวใจ",
    disadvantage: "“ไม่ต้องเปลี่ยนตัวเองให้ดังขึ้นบางทีความเงียบของเธอ...ก็ดังพออยู่แล้วสำหรับคนที่ฟังด้วยใจ”วันนี้ขอให้เธอได้อยู่ในจังหวะที่ปลอดภัยของตัวเอง",
    character: charYellow
  },
  "ร่มสีชมพู": { 
    image: umbPink, 
    compatible: "ร่มสีเทา", 
    compatible_description: "คู่ของคุณเป็นคนที่มีหัวใจละเอียดอ่อน และเก็บความรู้สึกไว้ลึกกว่าที่แสดงออก เขาไม่พูดมาก แต่คุณจะรู้ว่าเขาอยู่ตรงนั้นทุกครั้งที่คุณคิดถึงใครบางคน หรือเขาเองนั่นแหละบางคนคนนั้น ที่คุณเก็บไว้ในใจเงียบ ๆ",
    compatible_description2: "แบบเดียวกับ Chermy Ch. ที่บางครั้งก็เล่าเรื่องวันธรรมดา ๆ จนเราคิดถึงใครบางคนโดยไม่รู้ตัว",
    title: "ร่มสีชมพู — ฝนที่ทำให้ใจสั่น",
    description: "คุณมีหัวใจที่รักเป็น และยังเชื่อในความสัมพันธ์แม้จะเจ็บมาหลายครั้ง คุณอาจเป็นคนที่ให้มากกว่ารับ หรือพยายามเข้าใจคนอื่นจนลืมดูแลตัวเอง ฝนตกทีไร หัวใจก็สั่นเบา ๆ เพราะมันทำให้นึกถึงช่วงเวลาดี ๆ ที่เคยมีใครเดินข้าง ๆ",
    advantage: "คุณไม่ได้ต้องการคนรักที่สมบูรณ์แบบแค่ใครสักคนที่กางร่มให้คุณในวันที่คุณไม่รู้จะกางของตัวเองยังไง",
    disadvantage: "“รักที่เคยเจ็บ ไม่ได้ทำให้เธออ่อนแอ มันแค่พิสูจน์ว่าเธอเคยรักอย่างเต็มหัวใจ” เธอจะรักได้อีกครั้ง และครั้งหน้า…เธอจะรักแบบที่ไม่ต้องลดตัวเองลงเลย",
    character: charGrey 
  }
};

function Quiz() {
  const [currentQuestion, setCurrentQuestion] = useState(0);
  const [selectedAnswer, setSelectedAnswer] = useState(null); // Track the selected answer
  const [scores, setScores] = useState({});
  const [result, setResult] = useState(null);

  function handleAnswer(drink) {
    setScores((prevScores) => {
      const newScores = { ...prevScores };
  
      // Decrease the score for the previously selected drink
      if (selectedAnswer) {
        newScores[selectedAnswer] -= 1;
      }
  
      // Increase the score for the newly selected drink
      newScores[drink] = (newScores[drink] || 0) + 1;
  
      return newScores;
    });
  
    setSelectedAnswer(drink); // Mark the new answer as selected
  }
  

  function handleNextQuestion() {
    if (currentQuestion + 1 < questions.length) {
      setCurrentQuestion(currentQuestion + 1);
      setSelectedAnswer(null); // Reset selected answer for the next question
    } else {
      calculateResult();
    }
  }

  function calculateResult() {
    let maxDrink = null;
    let maxScore = 0;

    for (const [drink, score] of Object.entries(scores)) {
      if (score > maxScore) {
        maxDrink = drink;
        maxScore = score;
      }
    }

    setResult(maxDrink);
  }

  function restartQuiz() {
    setCurrentQuestion(0);
    setScores({});
    setResult(null);
  }

  if (result) {
    const compatible = drinks[result].compatible;
    const character = drinks[result].character;
    return (
      <Result
        drink={result}
        compatible={compatible}
        compatible_description={drinks[result].compatible_description}
        compatible_description2={drinks[result].compatible_description2}
        title={drinks[result].title}
        description={drinks[result].description}
        advantage={drinks[result].advantage}
        disadvantage={drinks[result].disadvantage}
        drinkImage={drinks[result].image}
        compatibleImage={drinks[compatible].image}
        character={character}
        restartQuiz={restartQuiz}
      />
    );
  }

  return (
    <div className="quiz-container-with-next">
      <Question
        question={questions[currentQuestion].question}
        options={questions[currentQuestion].options}
        onAnswer={handleAnswer}
        selectedAnswer={selectedAnswer}
      />

      <button className="next-btn"
        onClick={handleNextQuestion}
        disabled={!selectedAnswer} // Disable the button until an answer is selected
      >
        ถัดไป &gt;
      </button>
    </div>
);
}

export default Quiz;
